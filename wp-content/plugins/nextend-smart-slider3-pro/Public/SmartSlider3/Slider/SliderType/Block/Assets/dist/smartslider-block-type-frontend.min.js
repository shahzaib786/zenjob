(function(){var t=this;t.N2_=t.N2_||{r:[],d:[]},t.N2R=t.N2R||function(){t.N2_.r.push(arguments)},t.N2D=t.N2D||function(){t.N2_.d.push(arguments)}}).call(window),N2D("SmartSliderBlock",["SmartSliderAbstract"],function(t,e){function i(t,e){this.type="block",this.responsiveClass=N2Classes.SmartSliderResponsiveBlock,N2Classes.SmartSliderAbstract.prototype.constructor.call(this,t,e)}return((i.prototype=Object.create(N2Classes.SmartSliderAbstract.prototype)).constructor=i).prototype.initResponsiveMode=function(){this.responsive=new N2Classes.SmartSliderResponsiveBlock(this,this.parameters.responsive),this.responsive.start(),N2Classes.SmartSliderAbstract.prototype.initResponsiveMode.call(this)},i.prototype.initMainAnimation=function(){this.mainAnimation=!1,this.isAdmin||this.disabled.postBackgroundAnimations||0==this.parameters.postBackgroundAnimations||(this.postBackgroundAnimation=new N2Classes.SmartSliderPostBackgroundAnimation(this,!1))},i.prototype.afterRawSlidesReady=function(){if(this.parameters.postBackgroundAnimations&&this.parameters.postBackgroundAnimations.slides){for(var t=0;t<this.slides.length;t++)this.slides[t].postBackgroundAnimation=this.parameters.postBackgroundAnimations.slides[t];delete this.parameters.postBackgroundAnimations.slides}},i.prototype.afterRawSlidesReady=function(){if(this.parameters.postBackgroundAnimations&&this.parameters.postBackgroundAnimations.slides){for(var t=0;t<this.slides.length;t++)this.slides[t].postBackgroundAnimation=this.parameters.postBackgroundAnimations.slides[t];delete this.parameters.postBackgroundAnimations.slides}},i.prototype.findSlideBackground=function(t){var e=N2Classes.SmartSliderAbstract.prototype.findSlideBackground.call(this,t);return e.appendTo(this.sliderElement.find(".n2-ss-slide-backgrounds")),e},i.prototype.getSlideBackgroundContainer=function(){return this.sliderElement.find(".n2-ss-slide").parent()},i}),N2D("SmartSliderResponsiveBlock",["SmartSliderResponsive"],function(t,e){function i(){N2Classes.SmartSliderResponsive.prototype.constructor.apply(this,arguments)}return((i.prototype=Object.create(N2Classes.SmartSliderResponsive.prototype)).constructor=i).prototype.init=function(){this.$cache={"n2-ss-slider-1":this.sliderElement.find(".n2-ss-slider-1"),"n2-ss-slide":this.sliderElement.find(".n2-ss-slide"),"n2-ss-layers-container":this.sliderElement.find(".n2-ss-layers-container")},this.base={sliderWidth:this.sliderElement.width(),sliderHeight:this.sliderElement.height(),slideOuterWidth:this.$cache["n2-ss-slide"].width(),slideOuterHeight:this.$cache["n2-ss-slide"].height(),slideWidth:this.$cache["n2-ss-layers-container"].width(),slideHeight:this.$cache["n2-ss-layers-container"].height()}},i.prototype.resizeStage1Width=function(){N2Classes.SmartSliderResponsive.prototype.resizeStage1Width.call(this),this.stage1CalculateSliderWidth(),this.stage1CalculateSlideWidth()},i.prototype.stage1CalculateSliderWidth=function(){var t=this.containerElementPadding.width();this.parameters.upscale||(t=Math.min(t,this.base.sliderWidth)),this.parameters.downscale||(t=Math.max(t,this.base.sliderWidth)),this.resizeContext.sliderWidth=this.applyFilter("SliderWidth",t),this.resizeContext.sliderRatio=this.resizeContext.sliderWidth/this.base.sliderWidth,this.sliderElement.css({width:this.resizeContext.sliderWidth})},i.prototype.stage1CalculateSlideWidth=function(){var t=this.resizeContext.sliderWidth-(this.base.sliderWidth-this.base.slideOuterWidth);if(this.resizeContext.slideOuterWidth=t,this.$cache["n2-ss-slide"].css("width",t),this.resizeContext.slideWidth=Math.min(t,this.parameters.maximumSlideWidth[this.device]),0<this.fullPageMinimumSliderHeight&&this.parameters.constrainRatio){var e=this.fullPageMinimumSliderHeight,i=this.parameters.sizes[this.device],s=this.base.slideHeight;0<i.height&&(s=this.base.slideWidth/i.width*i.height);var r=Math.floor(this.resizeContext.slideWidth/this.base.slideWidth*s);e<r&&(this.resizeContext.slideWidth*=e/r)}this.resizeContext.slideRatio=this.resizeContext.slideWidth/this.base.slideWidth;var h=Math.floor((t-this.resizeContext.slideWidth)/2);this.$cache["n2-ss-layers-container"].css({width:this.resizeContext.slideWidth,marginLeft:h,marginRight:h}),this.sliderElement.css({fontSize:16*this.resizeContext.slideRatio+"px"})},i.prototype.getResizeStage2CSS=function(){var t=[];return this.stage2CalculateSlideHeight(t),this.stage2CalculateSliderHeight(t),t},i.prototype.stage2CalculateSlideHeight=function(t){var e=this.parameters.sizes[this.device],i=this.base.slideHeight;0<e.height&&(i=this.base.slideWidth/e.width*e.height);var s=Math.floor(this.resizeContext.slideWidth/this.base.slideWidth*i);0<this.fullPageMinimumSliderHeight&&!this.parameters.constrainRatio&&(s=Math.max(0,this.parameters.minimumHeight,this.fullPageMinimumSliderHeight)),this.minimumSlideHeight=s,this.resizeContext.slideHeight=this.applyFilter("SlideHeight",Math.max(s,this.getMinimumContentHeight(),this.getMinimumStaticContentHeight())),t.push(new N2Classes.CSSData(this.$cache["n2-ss-layers-container"],{height:this.resizeContext.slideHeight}))},i.prototype.stage2CalculateSliderHeight=function(t){var e;if(0<this.fullPageMinimumSliderHeight)e=Math.max(this.resizeContext.slideHeight,this.parameters.minimumHeight,this.fullPageMinimumSliderHeight);else{e=Math.max(this.resizeContext.slideHeight,this.parameters.minimumHeight,this.fullPageMinimumSliderHeight);var i=this.parameters.sizes[this.device];if(0<i.height){var s=Math.min(i.height+(this.base.sliderHeight-this.base.slideOuterHeight),Math.floor(this.resizeContext.sliderWidth/i.width*i.height));e=Math.max(e,s)}}this.resizeContext.sliderHeight=this.applyFilter("SliderHeight",e),this.resizeContext.sliderInnerHeight=this.resizeContext.sliderHeight-(this.base.sliderHeight-this.base.slideOuterHeight),t.push(new N2Classes.CSSData(this.$cache["n2-ss-slider-1"],{height:this.resizeContext.sliderHeight})),this.resizeContext.slideOuterHeight=this.resizeContext.sliderHeight-(this.base.sliderHeight-this.base.slideOuterHeight),t.push(new N2Classes.CSSData(this.$cache["n2-ss-slide"],{height:this.resizeContext.slideOuterHeight}));var r=Math.floor((this.resizeContext.sliderHeight-this.resizeContext.slideHeight)/2);t.push(new N2Classes.CSSData(this.$cache["n2-ss-layers-container"],{marginTop:r,marginBottom:r}))},i.prototype.videoPlayerError=function(t){t.remove()},i.prototype.videoPlayerReady=function(t){t[0].removeEventListener("canplay",this._videoPlayerReady),t.data("ratio",t[0].videoWidth/t[0].videoHeight),t.addClass("n2-active"),this.slider.ready(function(){this.slider.sliderElement.on("SliderResize",this.resizeVideo.bind(this,t)),this.resizeVideo(t)}.bind(this))},i.prototype.resizeVideo=function(t){var e=t.data("mode"),i=t.data("ratio"),s=this.slider.responsive.resizeContext.slideOuterWidth/this.slider.responsive.resizeContext.slideOuterHeight;"fill"===e?i<s?t.css({width:"100%",height:"auto"}):t.css({width:"auto",height:"100%"}):"fit"===e&&(s<i?t.css({width:"100%",height:"auto"}):t.css({width:"auto",height:"100%"})),t.css({marginTop:0,marginLeft:0}),this.center(t)},i.prototype.center=function(t){var e=t.parent();t.css({marginTop:Math.round((e.height()-t.height())/2),marginLeft:Math.round((e.width()-t.width())/2)})},i}),N2D("smartslider-block-type-frontend");